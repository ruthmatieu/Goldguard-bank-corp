{"ast":null,"code":"import _defineProperty from\"/Users/ruthmathieu/Desktop/Lambda School/BW-Unit-3/front-end/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/ruthmathieu/Desktop/Lambda School/BW-Unit-3/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/ruthmathieu/Desktop/Lambda School/BW-Unit-3/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import*as yup from\"yup\";import{TextField}from'@material-ui/core';var schema=yup.object().shape({firstname:yup.string().required('First name is a required field.'),lastname:yup.string().required('Last name is a required field.'),username:yup.string().required('Username is a required field.'),password:yup.string().required('Password is a required field.')});var Register=function Register(){var _useState=useState({firstname:'',lastname:'',username:'',password:''}),_useState2=_slicedToArray(_useState,2),errorState=_useState2[0],setErrorState=_useState2[1];var validator=function validator(e){yup.reach(schema,e.target.name).validate(e.target.value).then(function(valid){setErrorState(_objectSpread(_objectSpread({},errorState),{},_defineProperty({},e.target.name,'')));}).catch(function(err){setErrorState(_objectSpread(_objectSpread({},errorState),{},_defineProperty({},e.target.name,err.errors[0])));});};var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState({firstname:'',lastname:'',username:'',password:''}),_useState6=_slicedToArray(_useState5,2),userCredentials=_useState6[0],setuserCredentials=_useState6[1];var changeHandler=function changeHandler(e){e.persist();validator(e);setuserCredentials(_objectSpread(_objectSpread({},userCredentials),{},_defineProperty({},e.target.name,e.target.value)));// console.log(e)\n};var submitHandler=function submitHandler(e){//prevents automatic refresh\ne.preventDefault();//resets form after submitted\nsetuserCredentials({firstname:'',lastname:'',username:'',password:''});// console.log(e)\naxios.post(\"https://reqres.in/api/users\",userCredentials).then(function(res){return setData(res);}).catch(function(err){console.log(err.res);});console.log('Login successful');};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Get started with your account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(TextField,{type:\"text\",id:\"standard-basic\",label:\"First Name\",name:\"firstname\",fullWidth:true,value:userCredentials.firstname,onChange:changeHandler,helperText:errorState.firstname.length>0?/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errorState.firstname}):null})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(TextField,{type:\"text\",id:\"standard-basic\",label:\"Last Name\",name:\"lastname\",fullWidth:true,value:userCredentials.lastname,onChange:changeHandler,helperText:errorState.lastname.length>0?/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errorState.lastname}):null})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(TextField,{type:\"text\",id:\"standard-basic\",label:\"Username\",name:\"username\",fullWidth:true,value:userCredentials.username,onChange:changeHandler,helperText:errorState.username.length>0?/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errorState.username}):null})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(TextField,{type:\"password\",id:\"standard-basic\",label:\"Password\",name:\"password\",fullWidth:true,value:userCredentials.password,onChange:changeHandler,helperText:errorState.password.length>0?/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errorState.password}):null})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(data,null,2)})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Login\"})]})]});};export default Register;","map":{"version":3,"sources":["/Users/ruthmathieu/Desktop/Lambda School/BW-Unit-3/front-end/src/components/Register.js"],"names":["React","useState","useEffect","axios","Link","yup","TextField","schema","object","shape","firstname","string","required","lastname","username","password","Register","errorState","setErrorState","validator","e","reach","target","name","validate","value","then","valid","catch","err","errors","data","setData","userCredentials","setuserCredentials","changeHandler","persist","submitHandler","preventDefault","post","res","console","log","length","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport * as yup from \"yup\";\nimport { TextField } from '@material-ui/core';\n\nconst schema = yup.object().shape({\n    firstname: yup.string().required('First name is a required field.'),\n    lastname: yup.string().required('Last name is a required field.'),\n    username: yup.string().required('Username is a required field.'),\n    password: yup.string().required('Password is a required field.')\n})\n\nconst Register = () => {\n\n    const [errorState, setErrorState] = useState({\n        firstname: '',\n        lastname: '',\n        username: '',\n        password: '',\n        \n    })\n\n    const validator = (e) => {\n        yup\n          .reach(schema, e.target.name)\n          .validate(e.target.value)\n          .then((valid) => {\n            setErrorState({\n              ...errorState,\n              [e.target.name]: '',\n            });\n          })\n          .catch((err) => {\n            setErrorState({\n              ...errorState,\n              [e.target.name]: err.errors[0],\n            });\n          });\n      };\n    \n    const [data, setData] = useState([]);  \n\n    const [userCredentials, setuserCredentials] = useState({\n        firstname: '',\n        lastname: '',\n        username: '',\n        password: ''\n    })\n\n    const changeHandler = e => {\n        e.persist();\n        validator(e);\n        setuserCredentials({ ...userCredentials, [e.target.name]: e.target.value });\n        // console.log(e)\n    }\n\n    const submitHandler = e => {\n        //prevents automatic refresh\n        e.preventDefault();\n        //resets form after submitted\n        setuserCredentials({\n            firstname: '',\n            lastname: '',\n            username: '',\n            password: ''\n        })\n        // console.log(e)\n\n        axios\n            .post(`https://reqres.in/api/users`, userCredentials)\n            .then(res => setData(res))\n            .catch(err => {console.log(err.res)})\n        console.log('Login successful')    \n    }\n    \n    return (\n        <div className=\"container\">\n            <h1>Get started with your account</h1>\n            <form onSubmit={submitHandler}>\n                <div>\n                    {/* <label htmlFor='firstname'>First Name</label> */}\n                    <TextField\n                        type=\"text\"\n                        id=\"standard-basic\"\n                        label=\"First Name\"\n                        name=\"firstname\"\n                        fullWidth\n                        value={userCredentials.firstname}\n                        onChange={changeHandler}\n                        helperText={errorState.firstname.length > 0 ? (<p className=\"error\">{errorState.firstname}</p>) : null}\n                    />\n                </div>\n                <div>\n                    {/* <label htmlFor='lastname'>Last Name</label> */}\n                    <TextField\n                        type=\"text\"\n                        id=\"standard-basic\"\n                        label=\"Last Name\"\n                        name=\"lastname\"\n                        fullWidth\n                        value={userCredentials.lastname}\n                        onChange={changeHandler}\n                        helperText={errorState.lastname.length > 0 ? (<p className=\"error\">{errorState.lastname}</p>) : null}\n                    />\n                </div>\n                <div>\n                    {/* <label htmlFor='username'>Username</label> */}\n                    <TextField\n                        type=\"text\"\n                        id=\"standard-basic\"\n                        label=\"Username\"\n                        name=\"username\"\n                        fullWidth\n                        value={userCredentials.username}\n                        onChange={changeHandler}\n                        helperText={errorState.username.length > 0 ? (<p className=\"error\">{errorState.username}</p>) : null}\n                    />\n                </div>\n                <div>\n                    {/* <label htmlFor='password'>Password</label> */}\n                    <TextField\n                        type=\"password\"\n                        id=\"standard-basic\"\n                        label=\"Password\"\n                        name=\"password\"\n                        fullWidth\n                        value={userCredentials.password}\n                        onChange={changeHandler}\n                        helperText={errorState.password.length > 0 ? (<p className=\"error\">{errorState.password}</p>) : null}\n                    />\n                </div>\n                \n                <button type='submit'>Submit</button>\n                <pre>{JSON.stringify(data, null, 2)}</pre>\n            </form>\n            <p>Already have an account? <Link to='/'>Login</Link></p>\n        </div>\n    )\n}\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}